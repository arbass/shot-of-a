"use strict";(()=>{var w=()=>{document.querySelectorAll("[location-dropdown]").length&&setTimeout(function(){let d="New York",c=document.querySelectorAll("[section_menu] [location-dropdown_button]"),h=document.querySelector('[is-your-city-new-york="yes"]'),b=document.querySelector('[is-your-city-new-york="no"]'),x=document.querySelector('[is-your-city-new-york="ok"]'),L=document.querySelector("[city-detector-tip-close]"),u=document.querySelector("[city-detector-tip]"),S=document.querySelector("[city-guess]"),A=document.querySelector("[city-question]"),E=document.querySelector("[location-dropdown_list]"),l;function k(){console.log("func_locationApi stared");let o;navigator.geolocation&&navigator.geolocation.getCurrentPosition(n,r);function n(f){let g=f.coords.latitude,y=f.coords.longitude;v(g,y)}function r(){console.log("Geocoder failed")}function p(){o=new google.maps.Geocoder}function v(f,g){let y=new google.maps.LatLng(f,g);o.geocode({latLng:y},function(a,_){if(_==google.maps.GeocoderStatus.OK)if(a[1]){let t;for(let e=0;e<a[0].address_components.length;e++)for(let i=0;i<a[0].address_components[e].types.length;i++)if(a[0].address_components[e].types[i]=="locality"){t=a[0].address_components[e];break}t?(console.log(t.long_name),c.forEach(e=>{e.textContent.toUpperCase()===t.long_name.toUpperCase()?(console.log("\u0433\u043E\u0440\u043E\u0434 \u0441\u043E\u0432\u043F\u0430\u043B"),l=e,s()):(console.log("\u0433\u043E\u0440\u043E\u0434 \u043D\u0435 \u0441\u043E \u0441\u043F\u0438\u0441\u043A\u043E\u043C \u0441\u043E\u0432\u043F\u0430\u043B"),c.forEach(i=>{i.textContent.toUpperCase()===d.toUpperCase()&&(console.log("\u0432\u044B\u0437\u044B\u0432\u0430\u0435\u043C defaultCity"),l=i,s())}))})):(console.log("City not found"),c.forEach(e=>{e.textContent.toUpperCase()===d.toUpperCase()&&(console.log("\u0432\u044B\u0437\u044B\u0432\u0430\u0435\u043C defaultCity"),l=e,s())}))}else console.log("No results found"),c.forEach(t=>{t.textContent.toUpperCase()===d.toUpperCase()&&(console.log("\u0432\u044B\u0437\u044B\u0432\u0430\u0435\u043C defaultCity"),l=t,s())});else console.log("Geocoder failed due to: "+_),c.forEach(t=>{t.textContent.toUpperCase()===d.toUpperCase()&&(console.log("\u0432\u044B\u0437\u044B\u0432\u0430\u0435\u043C defaultCity"),l=t,s())})})}p()}h.addEventListener("click",function(){C(l)}),b.addEventListener("click",function(){setTimeout(function(){u.classList.add("hide"),E.classList.add("w--open")},0)}),L.addEventListener("click",function(){u.classList.add("hide")});function s(){S.textContent=l.textContent,u.classList.remove("hide")}function C(o){let n=o.getAttribute("location-dropdown_button"),r=o.getAttribute("href");localStorage.setItem("savedCity",n),console.log(`\u0413\u043E\u0440\u043E\u0434 ${n} \u0441\u043E\u0445\u0440\u0430\u043D\u0451\u043D \u0432 localStorage.`),u.classList.add("hide"),window.location.href=r}function m(o){let n=o.getAttribute("location-dropdown_button");document.querySelectorAll("[city-dropdown-name-placeholder]").forEach(p=>{p.textContent=n})}if(localStorage.getItem("savedCity")){let o=localStorage.getItem("savedCity");q(o),console.log(`\u0421\u043E\u0445\u0440\u0430\u043D\u0451\u043D\u043D\u044B\u0439 \u0433\u043E\u0440\u043E\u0434: ${o}`)}else console.log("\u0421\u043E\u0445\u0440\u0430\u043D\u0451\u043D\u043D\u043E\u0433\u043E \u0433\u043E\u0440\u043E\u0434\u0430 \u043D\u0435\u0442"),k();c.forEach(o=>{o.addEventListener("click",function(){C(o),m(o)})});function q(o){c.forEach(n=>{n.getAttribute("location-dropdown_button").toUpperCase()===o.toUpperCase()&&m(n)})}},2e3)};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{w()});})();
