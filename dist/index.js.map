{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/utils/city-detector.ts", "../src/index.ts"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "export const cityDetector_func = () => {\n  const elements_cityDropdown = document.querySelectorAll('[location-dropdown]');\n\n  if (elements_cityDropdown.length) {\n    setTimeout(function () {\n      // \u0432\u0441\u0435 \u043F\u0435\u0440\u0435\u043C\u0435\u043D\u043D\u044B\u0435\n      const defaultCity = 'New York';\n      const all_cityButtons = document.querySelectorAll(\n        '[section_menu] [location-dropdown_button]'\n      );\n      const button_yes = document.querySelector('[is-your-city-new-york=\"yes\"]');\n      const button_no = document.querySelector('[is-your-city-new-york=\"no\"]');\n      const button_ok = document.querySelector('[is-your-city-new-york=\"ok\"]');\n      const button_close = document.querySelector('[city-detector-tip-close]');\n      const el_cityPopup = document.querySelector('[city-detector-tip]');\n      const el_cityName = document.querySelector('[city-guess]');\n      const el_cityQuestion = document.querySelector('[city-question]');\n      const el_locationDropdownList = document.querySelector('[location-dropdown_list]');\n      let element_detectedCity;\n\n      // \u0444\u0443\u043D\u043A\u0446\u0438\u044F \u0441 API\n      function func_locationApi() {\n        console.log('func_locationApi stared');\n\n        let geocoder;\n\n        if (navigator.geolocation) {\n          navigator.geolocation.getCurrentPosition(successFunction, errorFunction);\n        }\n\n        function successFunction(position) {\n          const lat = position.coords.latitude;\n          const lng = position.coords.longitude;\n          codeLatLng(lat, lng);\n        }\n\n        function errorFunction() {\n          console.log('Geocoder failed');\n        }\n\n        function initialize() {\n          geocoder = new google.maps.Geocoder();\n        }\n\n        function codeLatLng(lat, lng) {\n          const latlng = new google.maps.LatLng(lat, lng);\n          geocoder.geocode({ latLng: latlng }, function (results, status) {\n            if (status == google.maps.GeocoderStatus.OK) {\n              if (results[1]) {\n                let city;\n                for (let i = 0; i < results[0].address_components.length; i++) {\n                  for (let b = 0; b < results[0].address_components[i].types.length; b++) {\n                    if (results[0].address_components[i].types[b] == 'locality') {\n                      city = results[0].address_components[i];\n                      break;\n                    }\n                  }\n                }\n                if (city) {\n                  console.log(city.long_name);\n                  // detecedCity = city.long_name;\n                  // detecedCityCapitalize = detecedCity;\n                  // detecedCity = detecedCity.toString().toUpperCase();\n\n                  all_cityButtons.forEach((cityButton) => {\n                    if (cityButton.textContent.toUpperCase() === city.long_name.toUpperCase()) {\n                      console.log('\u0433\u043E\u0440\u043E\u0434 \u0441\u043E\u0432\u043F\u0430\u043B');\n                      element_detectedCity = cityButton;\n                      cityGuess();\n                    } else {\n                      console.log('\u0433\u043E\u0440\u043E\u0434 \u043D\u0435 \u0441\u043E \u0441\u043F\u0438\u0441\u043A\u043E\u043C \u0441\u043E\u0432\u043F\u0430\u043B');\n                      //\u0442\u0443\u0442 \u043D\u0430\u0434\u043E new york \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C\n                      all_cityButtons.forEach((cityButton) => {\n                        if (cityButton.textContent.toUpperCase() === defaultCity.toUpperCase()) {\n                          console.log('\u0432\u044B\u0437\u044B\u0432\u0430\u0435\u043C defaultCity');\n                          element_detectedCity = cityButton;\n                          cityGuess();\n                        }\n                      });\n                    }\n                  });\n                } else {\n                  console.log('City not found');\n\n                  all_cityButtons.forEach((cityButton) => {\n                    if (cityButton.textContent.toUpperCase() === defaultCity.toUpperCase()) {\n                      console.log('\u0432\u044B\u0437\u044B\u0432\u0430\u0435\u043C defaultCity');\n                      element_detectedCity = cityButton;\n                      cityGuess();\n                    }\n                  });\n                }\n              } else {\n                console.log('No results found');\n\n                all_cityButtons.forEach((cityButton) => {\n                  if (cityButton.textContent.toUpperCase() === defaultCity.toUpperCase()) {\n                    console.log('\u0432\u044B\u0437\u044B\u0432\u0430\u0435\u043C defaultCity');\n                    element_detectedCity = cityButton;\n                    cityGuess();\n                  }\n                });\n              }\n            } else {\n              console.log('Geocoder failed due to: ' + status);\n\n              all_cityButtons.forEach((cityButton) => {\n                if (cityButton.textContent.toUpperCase() === defaultCity.toUpperCase()) {\n                  console.log('\u0432\u044B\u0437\u044B\u0432\u0430\u0435\u043C defaultCity');\n                  element_detectedCity = cityButton;\n                  cityGuess();\n                }\n              });\n            }\n          });\n        }\n\n        initialize();\n        //\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\n      }\n      // func \u043F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D \u043B\u0438 \u0433\u043E\u0440\u043E\u0434, \u0435\u0441\u043B\u0438 \u0432\u044B\u0431\u0440\u0430\u043D \u2014> redirect\n      // func \u043F\u0440\u0438 \u043A\u043B\u0438\u043A\u0435 \u043D\u0430 yes \u2013> \u0441\u043E\u0445\u0440\u0430\u043D\u044F\u0442\u044C \u0432 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0439 \u0433\u043E\u0440\u043E\u0434\n      // \u0444\u043E\u0440\u043C\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043F\u0438\u0441\u043E\u043A \u0438\u0437 \u0433\u043E\u0440\u043E\u0434\u043E\u0432, \u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u0432 dropdown\n      // \u0444\u0443\u043D\u043A\u0446\u0438\u044F, \u043A\u043E\u0442\u043E\u0440\u0430\u044F \u043F\u0440\u043E\u0432\u0435\u0440\u044F\u0435\u0442, \u0435\u0441\u043B\u0438 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0432\u0448\u0438\u0439\u0441\u044F \u0433\u043E\u0440\u043E\u0434 \u0438\u0437 \u0441\u043F\u0438\u0441\u043A\u0430 \u0438\u043B\u0438 \u043D\u0435\u0442\n      // \u0444\u0443\u043D\u043A\u0446\u0438\u044F, \u043A\u043E\u0442\u043E\u0440\u0430\u044F \u043C\u0435\u043D\u044F\u0435\u0442 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0432 span\n      // \u0444\u0443\u043D\u043A\u0446\u0438\u044F \u0440\u0435\u0434\u0438\u0440\u0435\u043A\u0442\u0430\n      // \u0444\u0443\u043D\u043A\u0446\u0438\u044F \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0438 \u043A\u043D\u043E\u043F\u043A\u0438 yes\n      button_yes.addEventListener('click', function () {\n        saveCity(element_detectedCity);\n      });\n      // \u0444\u0443\u043D\u043A\u0446\u0438\u044F \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0438 \u043A\u043D\u043E\u043F\u043A\u0438 no\n      button_no.addEventListener('click', function () {\n        // el_cityQuestion.textContent = el_cityQuestion.getAttribute('city-question');\n        setTimeout(function () {\n          el_cityPopup.classList.add('hide');\n          el_locationDropdownList.classList.add('w--open');\n        }, 0);\n      });\n      // \u0444\u0443\u043D\u043A\u0446\u0438\u044F \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0438 \u043A\u043D\u043E\u043F\u043A\u0438 close\n      button_close.addEventListener('click', function () {\n        el_cityPopup.classList.add('hide');\n      });\n      // \u0444\u0443\u043D\u043A\u0446\u0438\u044F \u043F\u0440\u0435\u0434\u043F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u044F\n      function cityGuess() {\n        el_cityName.textContent = element_detectedCity.textContent;\n        el_cityPopup.classList.remove('hide');\n      }\n      // \u0444\u0443\u043D\u043A\u0446\u0438\u044F \u0434\u043B\u044F \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F \u0433\u043E\u0440\u043E\u0434\u0430 \u0432 localStorage\n      function saveCity(city) {\n        const currentCity = city.getAttribute('location-dropdown_button');\n        const currentCityLink = city.getAttribute('href');\n\n        localStorage.setItem('savedCity', currentCity);\n        console.log(`\u0413\u043E\u0440\u043E\u0434 ${currentCity} \u0441\u043E\u0445\u0440\u0430\u043D\u0451\u043D \u0432 localStorage.`);\n        el_cityPopup.classList.add('hide');\n        window.location.href = currentCityLink;\n      }\n      // \u0444\u0443\u043D\u043A\u0446\u0438\u044F \u0434\u043B\u044F \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u043E\u0433\u043E \u0433\u043E\u0440\u043E\u0434\u0430 \u0438\u0437 localStorage\n      // \u0444\u0443\u043D\u043A\u0446\u0438\u044F \u0434\u043B\u044F \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u044E\u0449\u0435\u0433\u043E \u0434\u0438\u0430\u043B\u043E\u0433\u0430 \u0432\u044B\u0431\u043E\u0440\u0430 \u0433\u043E\u0440\u043E\u0434\u0430\n      // \u0444\u0443\u043D\u043A\u0446\u0438\u044F \u0434\u043B\u044F \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u044F \u0438\u043D\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u043D\u0430 \u043E\u0441\u043D\u043E\u0432\u0435 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0433\u043E \u0433\u043E\u0440\u043E\u0434\u0430\n      // \u0444\u0443\u043D\u043A\u0446\u0438\u044F \u0434\u043B\u044F \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 \u0432\u0441\u0435\u0445 \u0441\u043E\u0431\u044B\u0442\u0438\u0439 \u0438 \u043D\u0430\u0447\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u0441\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u044F\n      // \u0442\u043E\u0447\u043A\u0438 \u0432\u0445\u043E\u0434\u0430\n      function changeNamePlaceholder(city) {\n        const cityName = city.getAttribute('location-dropdown_button');\n        const allCityPlaceholders = document.querySelectorAll('[city-dropdown-name-placeholder]');\n        allCityPlaceholders.forEach((placeholder) => {\n          placeholder.textContent = cityName;\n        });\n      }\n\n      // \u041F\u0440\u043E\u0432\u0435\u0440\u044F\u0435\u043C, \u0435\u0441\u0442\u044C \u043B\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0451\u043D\u043D\u044B\u0439 \u0433\u043E\u0440\u043E\u0434 \u0432 localStorage\n      if (localStorage.getItem('savedCity')) {\n        // \u041F\u043E\u043B\u0443\u0447\u0430\u0435\u043C \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u0451\u043D\u043D\u043E\u0433\u043E \u0433\u043E\u0440\u043E\u0434\u0430\n        const savedCity = localStorage.getItem('savedCity');\n\n        // \u0412\u044B\u0432\u043E\u0434\u0438\u043C \u0441\u043E\u0445\u0440\u0430\u043D\u0451\u043D\u043D\u044B\u0439 \u0433\u043E\u0440\u043E\u0434\n\n        // changeNamePlaceholder(element_detectedCity);\n        // console.log(element_detectedCity);\n        findElementOfCurrentCity(savedCity);\n\n        console.log(`\u0421\u043E\u0445\u0440\u0430\u043D\u0451\u043D\u043D\u044B\u0439 \u0433\u043E\u0440\u043E\u0434: ${savedCity}`);\n      } else {\n        // \u0415\u0441\u043B\u0438 \u0433\u043E\u0440\u043E\u0434 \u043D\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u0451\u043D, \u0432\u044B\u0432\u043E\u0434\u0438\u043C \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435\n        console.log('\u0421\u043E\u0445\u0440\u0430\u043D\u0451\u043D\u043D\u043E\u0433\u043E \u0433\u043E\u0440\u043E\u0434\u0430 \u043D\u0435\u0442');\n        func_locationApi();\n      }\n\n      all_cityButtons.forEach((cityButton) => {\n        cityButton.addEventListener('click', function () {\n          saveCity(cityButton);\n          changeNamePlaceholder(cityButton);\n        });\n      });\n\n      //\n      function findElementOfCurrentCity(textNameOfCity) {\n        all_cityButtons.forEach((cityButton) => {\n          if (\n            cityButton.getAttribute('location-dropdown_button').toUpperCase() ===\n            textNameOfCity.toUpperCase()\n          ) {\n            const currentCityButton = cityButton;\n            changeNamePlaceholder(currentCityButton);\n          }\n        });\n      }\n      //\u2013\u2013\u2013\u2013\u2013\u2013\u2013\n    }, 2000);\n  }\n};\n", "import { cityDetector_func } from '$utils/city-detector';\n\nwindow.Webflow ||= [];\nwindow.Webflow.push(() => {\n  cityDetector_func();\n});\n"],
  "mappings": "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",
  "names": ["cityButton"]
}
