"use strict";(()=>{var L=()=>{document.querySelectorAll("[location-dropdown]").length&&setTimeout(function(){let c="New York",t=document.querySelectorAll("[section_menu] [location-dropdown_button]"),g=document.querySelector('[is-your-city-new-york="yes"]'),r=document.querySelector('[is-your-city-new-york="no"]'),p=document.querySelector('[is-your-city-new-york="ok"]'),w=document.querySelector("[city-detector-tip-close]"),s=document.querySelector("[city-detector-tip]"),E=document.querySelector("[city-guess]"),D=document.querySelector("[city-question]"),x=document.querySelector("[location-dropdown_list]"),i;function k(){console.log("func_locationApi stared");let e;navigator.geolocation&&navigator.geolocation.getCurrentPosition(l,u);function l(y){let C=y.coords.latitude,_=y.coords.longitude;U(C,_)}function u(){console.log("Geocoder failed")}function m(){e=new google.maps.Geocoder}function U(y,C){let _=new google.maps.LatLng(y,C);e.geocode({latLng:_},function(f,b){if(b==google.maps.GeocoderStatus.OK)if(f[1]){let n;for(let o=0;o<f[0].address_components.length;o++)for(let a=0;a<f[0].address_components[o].types.length;a++)if(f[0].address_components[o].types[a]=="locality"){n=f[0].address_components[o];break}n?(console.log(n.long_name),t.forEach(o=>{o.textContent.toUpperCase()===n.long_name.toUpperCase()?(console.log("\u0433\u043E\u0440\u043E\u0434 \u0441\u043E\u0432\u043F\u0430\u043B"),i=o,d()):(console.log("\u0433\u043E\u0440\u043E\u0434 \u043D\u0435 \u0441\u043E \u0441\u043F\u0438\u0441\u043A\u043E\u043C \u0441\u043E\u0432\u043F\u0430\u043B"),t.forEach(a=>{a.textContent.toUpperCase()===c.toUpperCase()&&(console.log("\u0432\u044B\u0437\u044B\u0432\u0430\u0435\u043C defaultCity"),i=a,d())}))})):(console.log("City not found"),t.forEach(o=>{o.textContent.toUpperCase()===c.toUpperCase()&&(console.log("\u0432\u044B\u0437\u044B\u0432\u0430\u0435\u043C defaultCity"),i=o,d())}))}else console.log("No results found"),t.forEach(n=>{n.textContent.toUpperCase()===c.toUpperCase()&&(console.log("\u0432\u044B\u0437\u044B\u0432\u0430\u0435\u043C defaultCity"),i=n,d())});else console.log("Geocoder failed due to: "+b),t.forEach(n=>{n.textContent.toUpperCase()===c.toUpperCase()&&(console.log("\u0432\u044B\u0437\u044B\u0432\u0430\u0435\u043C defaultCity"),i=n,d())})})}m()}g.addEventListener("click",function(){h(i)}),r.addEventListener("click",function(){setTimeout(function(){s.classList.add("hide"),x.classList.add("w--open")},0)}),w.addEventListener("click",function(){s.classList.add("hide")});function d(){E.textContent=i.textContent,s.classList.remove("hide")}function h(e){let l=e.getAttribute("location-dropdown_button"),u=e.getAttribute("href");localStorage.setItem("savedCity",l),console.log(`\u0413\u043E\u0440\u043E\u0434 ${l} \u0441\u043E\u0445\u0440\u0430\u043D\u0451\u043D \u0432 localStorage.`),s.classList.add("hide"),window.location.href=u}function S(e){let l=e.getAttribute("location-dropdown_button");document.querySelectorAll("[city-dropdown-name-placeholder]").forEach(m=>{m.textContent=l})}if(localStorage.getItem("savedCity")){let e=localStorage.getItem("savedCity");A(e),console.log(`\u0421\u043E\u0445\u0440\u0430\u043D\u0451\u043D\u043D\u044B\u0439 \u0433\u043E\u0440\u043E\u0434: ${e}`)}else console.log("\u0421\u043E\u0445\u0440\u0430\u043D\u0451\u043D\u043D\u043E\u0433\u043E \u0433\u043E\u0440\u043E\u0434\u0430 \u043D\u0435\u0442"),k();t.forEach(e=>{e.addEventListener("click",function(){h(e),S(e)})});function A(e){t.forEach(l=>{l.getAttribute("location-dropdown_button").toUpperCase()===e.toUpperCase()&&S(l)})}},2e3)};var q=()=>{document.querySelectorAll('[form-custom-dropdwn="component"]').length&&document.querySelectorAll('[form-custom-dropdwn="component"]').forEach(c=>{c.addEventListener("change",t=>{if(t.target.type==="radio"){let g=t.target,r=c.querySelector(`[form-custom-dropdwn="radio-label"][for="${g.id}"]`),p=c.querySelector('[form-custom-dropdwn="placeholder"]');r&&p&&(p.textContent=r.textContent,p.classList.add("label-is-active"),console.log(`Radio selected: ${r.textContent}`)),r&&r.classList.add("label-is-active"),c.querySelectorAll('[form-custom-dropdwn="radio-label"]').forEach(s=>{s!==r&&s.classList.remove("label-is-active")})}})})};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{L(),q()});})();
