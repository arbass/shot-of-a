"use strict";(()=>{var $=()=>{let n=document.querySelectorAll("[book-now-button]");n.length&&n.forEach(t=>{let u=t.getAttribute("book-now-button");if(u!=""){let c=document.querySelector("[catalog-page-city]").getAttribute("catalog-page-city"),r=u.split(";").filter(l=>l.trim()!==""),d=[];r.forEach(l=>{let o=l.split("@")[0],e=l.split("@")[1];o===c&&(t.setAttribute("href",e),t.classList.remove("hide"))})}})};var N=()=>{let n=document.querySelectorAll("[location-dropdown]"),t=document.querySelectorAll("[nav-home-link]"),u=document.querySelectorAll("[home-page-city-links]");if(n.length){let W=function(){return new Promise((i,s)=>{navigator.geolocation.getCurrentPosition(i,s)})},A=function(){let i=!1;a.forEach(s=>{s.textContent.toUpperCase()===p.toUpperCase()&&(b=s,i=!0,P())})},P=function(){E.textContent=b.textContent,E.classList.remove("opacity-0"),v.classList.remove("hide"),n.forEach(s=>{s.classList.remove("opacity-0")}),document.querySelectorAll("[city-dropdown-name-placeholder]").forEach(s=>{s.classList.remove("opacity-0")})},C=function(i){let s=i.getAttribute("location-dropdown_button")||i.getAttribute("home-page-city-links"),S=i.getAttribute("href");console.log(`Saving city: ${s}, link: ${S}`),localStorage.setItem("savedCity",s),k(i),v.classList.add("hide"),window.location.href=S},k=function(i){let s=i.getAttribute("location-dropdown_button")||i.getAttribute("home-page-city-links");document.querySelectorAll("[city-dropdown-name-placeholder]").forEach(h=>{h.textContent=s,h.classList.remove("opacity-0")}),n.forEach(h=>{h.classList.remove("opacity-0")})},I=function(i){let s=!1;a.forEach(S=>{if(S.getAttribute("location-dropdown_button").toUpperCase()===i.toUpperCase()){let h=S;console.log(`Found city button: ${h.textContent}, link: ${h.getAttribute("href")}`),b=h,k(h),s=!0}}),s||(console.log("City not found, setting to default city"),A())};var d=W,l=A,o=P,e=C,f=k,m=I;let p="New York",a=document.querySelectorAll("[section_menu] [location-dropdown_button], [location-dropdown_list] [location-dropdown_button]"),g=document.querySelector('[is-your-city-new-york="yes"]'),y=document.querySelector('[is-your-city-new-york="no"]'),_=document.querySelector('[is-your-city-new-york="ok"]'),q=document.querySelector("[city-detector-tip-close]"),v=document.querySelector("[city-detector-tip]"),E=document.querySelector("[city-guess]"),J=document.querySelector("[city-question]"),Q=document.querySelector("[location-dropdown_list]"),b;async function Y(){if(!navigator.geolocation){A();return}try{let i=await W(),s=i.coords.latitude,S=i.coords.longitude;await j(s,S)}catch{A()}}async function j(i,s){let S=new google.maps.Geocoder,h=new google.maps.LatLng(i,s);S.geocode({latLng:h},function(x,z){if(z==google.maps.GeocoderStatus.OK)if(x[1]){let V;for(let L=0;L<x[0].address_components.length;L++)for(let w=0;w<x[0].address_components[L].types.length;w++)if(x[0].address_components[L].types[w]=="locality"){V=x[0].address_components[L];break}if(V){let L=!1;a.forEach(w=>{w.textContent.toUpperCase()===V.long_name.toUpperCase()&&(b=w,L=!0,P())}),L||A()}else A()}else A();else A()})}if(g.addEventListener("click",function(){C(b)}),y.addEventListener("click",function(){v.classList.add("hide"),Q.classList.add("w--open")}),q.addEventListener("click",function(){v.classList.add("hide")}),localStorage.getItem("savedCity")){let i=localStorage.getItem("savedCity");console.log(`Loaded saved city: ${i}`),I(i),n.forEach(s=>{s.classList.remove("opacity-0")})}else Y();a.forEach(i=>{i.addEventListener("click",function(){C(i),k(i),n.forEach(s=>{s.classList.remove("opacity-0")})})}),t.forEach(i=>{i.addEventListener("click",function(){if(b){let s=b.getAttribute("href");console.log(`Navigating to city: ${b.textContent}, link: ${s}`),window.location.href=s}else{A();let s=b.getAttribute("href");console.log(`Navigating to default city: ${b.textContent}, link: ${s}`),window.location.href=s}})}),u.forEach(i=>{i.addEventListener("click",function(s){s.preventDefault(),C(i)})})}let r=document.querySelector("body").getAttribute("parallel-page-type");if(r==="event"||r==="individual"){let a=document.querySelector(`[parallel-page-links-parent="${r}"]`).querySelectorAll("[exp-city]"),g=document.querySelectorAll("[parallel-location-dropdown_list] [location-dropdown_button]");a.forEach(y=>{let _=y.getAttribute("exp-city");g.forEach(q=>{let v=q.getAttribute("location-dropdown_button");if(_===v){let E=y.getAttribute("href");console.log(`Matching city: ${_}. Updating link to: ${E}`),q.setAttribute("href",E)}})})}};var D=()=>{let n=document.querySelector("[catalog-page-city]");if(n){let t=n.getAttribute("catalog-page-city");document.querySelectorAll("[exp-collection-item]").forEach(c=>{function r(){let e=c.querySelector("[exp-columns_slider-header-meta-item=best]"),m=c.getAttribute("value-best").split(";");m.forEach((p,a)=>{p===""&&m.splice(a,1)}),m.forEach(p=>{p===t&&e.classList.remove("hide")})}function d(){let e=document.querySelectorAll("[icon-age]"),f=c.querySelector("[exp-columns_slider-header-meta-item=age]"),p=c.getAttribute("value-age").split(";");p.forEach((a,g)=>{a===""&&p.splice(g,1)}),p.forEach(a=>{let g=a.split("@");g[0]===t&&e.forEach(y=>{let _=y.getAttribute("icon-age");if(g[1]===_){let q=y,v=f,E=document.createElement("div");E.innerHTML=q.innerHTML,v.appendChild(E)}})})}function l(){let e=c.querySelector("[exp-columns_slider-header-meta-item=price]"),m=c.getAttribute("value-price").split(";");m.forEach((p,a)=>{p===""&&m.splice(a,1)}),m.forEach(p=>{let a=p.split("@");if(a[0]===t){let g=a[0],y=a[1];if(g===t){e.classList.remove("hide");let _=e.querySelector('[exp-columns_slider-header-meta-item="price-text-value"]');_.textContent=y}}})}function o(){let e=c.querySelector("[exp-columns_slider-header-meta-item=count]"),m=c.getAttribute("value-count").split(";");m.forEach((p,a)=>{p===""&&m.splice(a,1)}),m.forEach(p=>{let a=p.split("@");if(a[0]===t){let g=a[0],y=a[1];if(g===t){e.classList.remove("hide");let _=e.querySelector('[exp-columns_slider-header-meta-item="count-text-value"]');_.textContent=y}}})}r(),d(),l(),o()})}};var H=()=>{let n=document.querySelectorAll("[this-is-a-city-page]");n.length&&n.forEach(t=>{document.querySelectorAll("[exp-variants-dropdown]").forEach(c=>{c.querySelectorAll("[exp-dropdown-button-list-new]").forEach(d=>{d.querySelectorAll("svg").forEach(e=>{e.classList.add("hide")}),d.querySelectorAll("[exp-city-dropdown]").forEach(e=>{e.querySelector("[exp-city-dropdown-list]").classList.add("hide"),e.addEventListener("click",function(){if(localStorage.getItem("savedCity")){let m=localStorage.getItem("savedCity");e.querySelectorAll("a").forEach(a=>{a.getAttribute("exp-city-dropdown-city-slug")===m&&(window.location.href=a.href)})}else alert("Please select the required city from the website menu.")})})})})})};var M=()=>{if(document.querySelectorAll("[abs-link-for-append]").length){let t=document.querySelector("[abs-link-exp-individual]"),u=document.querySelector("[abs-link-exp-group]"),c=document.querySelectorAll("[exp-slider-individual]"),r=document.querySelectorAll("[exp-slider-group]"),d=document.querySelector("[page-city-current]").getAttribute("page-city-current");c.forEach(l=>{let o=t.cloneNode(!0);o.classList.remove("hide");let e=o.getAttribute("href")+"#"+l.getAttribute("exp-name");o.setAttribute("href",e),l.appendChild(o)}),r.forEach(l=>{let o=u.cloneNode(!0);o.classList.remove("hide");let e=o.getAttribute("href")+"#"+l.getAttribute("exp-name");o.setAttribute("href",e),l.appendChild(o)})}};var O=()=>{let n=document.querySelectorAll("[video-on-hover]");n.length&&n.forEach(t=>{let u=!1,c=!1,r=function(){if(window.innerWidth>=992){let l=t.querySelector("[put-src-here]");if(l){let f=l.getAttribute("put-src-here");f&&l.getAttribute("src")!==f&&l.setAttribute("src",f)}let o=t.querySelector("[abs-video-for-hover-hided]");o&&o.classList.remove("hide");let e=t.querySelector("video");if(e)if(c)u||e.play().then(()=>{u=!0}).catch(f=>{console.error("Error playing video:",f)});else{let f=()=>{c=!0,e.play().then(()=>{u=!0}).catch(m=>{console.error("Error playing video:",m)}),e.removeEventListener("canplaythrough",f)};e.addEventListener("canplaythrough",f),e.load()}}},d=function(){if(window.innerWidth>=992){let l=t.querySelector("[abs-video-for-hover-hided]");l&&l.classList.add("hide");let o=t.querySelector("video");o&&u&&(o.pause(),u=!1)}};t.addEventListener("pointerenter",r),t.addEventListener("pointerleave",d)})};var U=()=>{let n=document.querySelectorAll("[catalog-item-exp]");n.length&&n.forEach(t=>{let u=t.querySelector("[catalog-item-exp-gallery-item]"),c=t.querySelector("[ctatalog-video]"),r=t.querySelector("[abs-video-for-hover]"),d=t.querySelector("[put-src-here]");u.appendChild(c);let l=function(){if(window.innerWidth>=992){if(d){let f=d.getAttribute("put-src-here");f&&d.setAttribute("src",f)}r&&r.classList.remove("hide");let e=r.querySelector("video");if(e){let f=e.cloneNode(!0);e.parentNode.replaceChild(f,e),e=f,e.addEventListener("canplay",()=>{e.play().catch(m=>{})}),e.addEventListener("play",()=>{}),e.addEventListener("pause",()=>{}),e.addEventListener("timeupdate",function(){}),e.addEventListener("canplaythrough",()=>{})}}},o=function(){if(window.innerWidth>=992){r&&r.classList.add("hide");let e=r.querySelector("video");e&&e.pause()}};u.addEventListener("mouseover",l),u.addEventListener("mouseout",o)})};var F=()=>{let n=document.querySelectorAll(".section_faq");n.length&&n.forEach(t=>{t.querySelectorAll(".cl-i_faq").length||t.classList.add("hide")})};var T=()=>{document.querySelectorAll('[form-custom-dropdwn="component"]').length&&document.querySelectorAll('[form-custom-dropdwn="component"]').forEach(t=>{t.addEventListener("change",u=>{if(u.target.type==="radio"){let r=u.target.nextElementSibling;r&&r.getAttribute("form-custom-dropdwn")!=="radio-label"&&(r=null);let d=t.querySelector('[form-custom-dropdwn="placeholder"]');r&&d&&(d.textContent=r.textContent,d.classList.add("label-is-active")),r&&r.classList.add("label-is-active"),t.querySelectorAll('[form-custom-dropdwn="radio-label"]').forEach(o=>{o!==r&&o.classList.remove("label-is-active")})}})})};T();var R=()=>{let n=document.querySelector(".menu-standart-trigger-city");if(n){let c=function(){n.getBoundingClientRect().bottom<0?document.querySelectorAll("[toggle-class-here-selector]").forEach(o=>{let e=o.getAttribute("toggle-class-here-selector");e&&o.classList.remove(e)}):document.querySelectorAll("[toggle-class-here-selector]").forEach(o=>{let e=o.getAttribute("toggle-class-here-selector");e&&o.classList.add(e)})},r=function(){c()};var t=c,u=r;c(),window.addEventListener("scroll",r)}};var B=()=>{let n=document.querySelector(".menu-standart-trigger");if(n){let c=function(){n.getBoundingClientRect().bottom<0?document.querySelectorAll("[toggle-class-here]").forEach(o=>{let e=o.getAttribute("toggle-class-here");e&&o.classList.add(e)}):document.querySelectorAll("[toggle-class-here]").forEach(o=>{let e=o.getAttribute("toggle-class-here");e&&o.classList.remove(e)})},r=function(){c()};var t=c,u=r;c(),window.addEventListener("scroll",r)}};var G=()=>{let n=document.querySelector(".exp-columns_inner"),t=document.querySelector(".dropdown-placeholder.is-exp-filter.is-new");if(console.log(t.textContent),n&&t.textContent!="All"&t.textContent!="ALL"){let c=n.querySelector(".location-dropdown_list.is-form").querySelectorAll(".w-dyn-item"),r=c[0].cloneNode(!0),d=c[0].parentNode;r.querySelector("a").textContent="ALL";let l=window.location.pathname,o=l.substring(0,l.lastIndexOf("/"));r.querySelector("a").setAttribute("href",o),d.insertBefore(r,c[0])}};var K=()=>{let n=document.querySelectorAll("[colored-slider]");n.length&&n.forEach(t=>{let c=t.getAttribute("colored-slider").split(",").map(d=>d.trim());t.querySelectorAll(".swiper-slide").forEach((d,l)=>{let o=l%c.length;d.style.backgroundColor=c[o]})})};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{N(),T(),D(),K(),M(),O(),U(),B(),R(),H(),F(),$(),G()});})();
